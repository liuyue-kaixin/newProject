{"version":3,"sources":["file:///Volumes/%E5%9B%BA%E6%80%81/project/extensions/oops-plugin-framework/assets/core/gui/layer/LayerPopup.ts"],"names":["LayerPopUp","BlockInputEvents","Layers","LayerUI","constructor","name","black","init","layer","Enum","UI_2D","addComponent","enabled","add","config","params","popParams","remove","prefabPath","isDestroy","setBlackDisable","removeByUuid","clear","active"],"mappings":";;;kHAcaA,U;;;;;;;;;;;;;;;;;;;;;;;AARJC,MAAAA,gB,OAAAA,gB;AAAkBC,MAAAA,M,OAAAA,M;;AAGlBC,MAAAA,O,iBAAAA,O;;;;;;AATT;AACA;AACA;AACA;AACA;;;;;AAOA;AACA;AACA;4BACaH,U,GAAN,MAAMA,UAAN;AAAA;AAAA,8BAAiC;AAGpCI,QAAAA,WAAW,CAACC,IAAD,EAAe;AACtB,gBAAMA,IAAN;AADsB,eAFhBC,KAEgB;AAEtB,eAAKC,IAAL;AACH;;AAEOA,QAAAA,IAAI,GAAG;AACX,eAAKC,KAAL,GAAaN,MAAM,CAACO,IAAP,CAAYC,KAAzB;AACA,eAAKJ,KAAL,GAAa,KAAKK,YAAL,CAAkBV,gBAAlB,CAAb;AACA,eAAKK,KAAL,CAAWM,OAAX,GAAqB,KAArB;AACH;AAED;AACJ;AACA;AACA;AACA;AACA;;;AACIC,QAAAA,GAAG,CAACC,MAAD,EAAmBC,MAAnB,EAAgCC,SAAhC,EAAmE;AAClE,eAAKV,KAAL,CAAWM,OAAX,GAAqB,IAArB;AACA,iBAAO,MAAMC,GAAN,CAAUC,MAAV,EAAkBC,MAAlB,EAA0BC,SAA1B,CAAP;AACH;;AAEDC,QAAAA,MAAM,CAACC,UAAD,EAAqBC,SAArB,EAA+C;AACjD,gBAAMF,MAAN,CAAaC,UAAb,EAAyBC,SAAzB;AACA,eAAKC,eAAL;AACH;;AAESC,QAAAA,YAAY,CAACH,UAAD,EAAqBC,SAArB,EAA+C;AACjE,gBAAME,YAAN,CAAmBH,UAAnB,EAA+BC,SAA/B;AACA,eAAKC,eAAL;AACH;;AAESA,QAAAA,eAAe,GAAG;AACxB,eAAKd,KAAL,CAAWM,OAAX,GAAqB,KAArB;AACH;;AAEDU,QAAAA,KAAK,CAACH,SAAD,EAAqB;AACtB,gBAAMG,KAAN,CAAYH,SAAZ;AACA,eAAKb,KAAL,CAAWM,OAAX,GAAqB,KAArB;AACA,eAAKW,MAAL,GAAc,KAAd;AACH;;AA3CmC,O","sourcesContent":["/*\r\n * @Date: 2021-11-24 16:08:36\r\n * @LastEditors: dgflash\r\n * @LastEditTime: 2022-09-02 13:44:28\r\n */\r\n\r\nimport { BlockInputEvents, Layers } from \"cc\";\r\nimport { PopViewParams } from \"./Defines\";\r\nimport { UIConfig } from \"./LayerManager\";\r\nimport { LayerUI } from \"./LayerUI\";\r\n\r\n/*\r\n * 弹窗层，允许同时弹出多个窗口，弹框参数可以查看 PopViewParams\r\n */\r\nexport class LayerPopUp extends LayerUI {\r\n    protected black!: BlockInputEvents;\r\n\r\n    constructor(name: string) {\r\n        super(name);\r\n        this.init();\r\n    }\r\n\r\n    private init() {\r\n        this.layer = Layers.Enum.UI_2D;\r\n        this.black = this.addComponent(BlockInputEvents);\r\n        this.black.enabled = false;\r\n    }\r\n\r\n    /**\r\n     * 添加一个预制件节点到PopUp层容器中，该方法将返回一个唯一uuid来标识该操作节点\r\n     * @param prefabPath 预制件路径\r\n     * @param params     传给组件onAdded、onRemoved方法的参数。\r\n     * @param popParams  弹出界面的设置定义，详情见PopViewParams\r\n     */\r\n    add(config: UIConfig, params: any, popParams?: PopViewParams): string {\r\n        this.black.enabled = true;\r\n        return super.add(config, params, popParams);\r\n    }\r\n\r\n    remove(prefabPath: string, isDestroy: boolean): void {\r\n        super.remove(prefabPath, isDestroy);\r\n        this.setBlackDisable();\r\n    }\r\n\r\n    protected removeByUuid(prefabPath: string, isDestroy: boolean): void {\r\n        super.removeByUuid(prefabPath, isDestroy);\r\n        this.setBlackDisable();\r\n    }\r\n\r\n    protected setBlackDisable() {\r\n        this.black.enabled = false;\r\n    }\r\n\r\n    clear(isDestroy: boolean) {\r\n        super.clear(isDestroy)\r\n        this.black.enabled = false;\r\n        this.active = false;\r\n    }\r\n}"]}