{"version":3,"sources":["file:///Volumes/%E5%9B%BA%E6%80%81/ccProject/extensions/oops-plugin-framework/assets/libs/behavior-tree/Selector.ts"],"names":["Selector","BranchNode","success","_control","fail","_actualTask","children","length","_run","_blackboard","blackboard","_nodeRunning","run"],"mappings":";;;0CAYaA,Q;;;;;;;;;;;;;;AANJC,MAAAA,U,iBAAAA,U;;;;;;AANT;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;0BACaD,Q,GAAN,MAAMA,QAAN;AAAA;AAAA,oCAAkC;AAC9BE,QAAAA,OAAO,GAAG;AACb,gBAAMA,OAAN;;AACA,eAAKC,QAAL,CAAcD,OAAd;AACH;;AAEME,QAAAA,IAAI,GAAG;AACV,gBAAMA,IAAN;AAEA,eAAKC,WAAL,IAAoB,CAApB;;AACA,cAAI,KAAKA,WAAL,GAAmB,KAAKC,QAAL,CAAcC,MAArC,EAA6C;AACzC,iBAAKC,IAAL,CAAU,KAAKC,WAAf;AACH,WAFD,MAGK;AACD,iBAAKN,QAAL,CAAcC,IAAd;AACH;AACJ;;AAESI,QAAAA,IAAI,CAACE,UAAD,EAAmB;AAC7B,cAAI,KAAKC,YAAT,EAAuB;AACnB,iBAAKA,YAAL,CAAkBC,GAAlB,CAAsB,KAAKH,WAA3B;AACH,WAFD,MAGK;AACD,kBAAMD,IAAN;AACH;AACJ;;AAzBoC,O","sourcesContent":["/*\r\n * @Author: dgflash\r\n * @Date: 2022-06-21 12:05:14\r\n * @LastEditors: dgflash\r\n * @LastEditTime: 2022-07-20 14:05:40\r\n */\r\nimport { BranchNode } from './BranchNode';\r\n\r\n/** \r\n * 逻辑或关系\r\n * 只要子节点有一个返回true，则停止执行其它子节点，并且Selector返回true。如果所有子节点都返回false，则Selector返回false。\r\n */\r\nexport class Selector extends BranchNode {\r\n    public success() {\r\n        super.success()\r\n        this._control.success();\r\n    }\r\n\r\n    public fail() {\r\n        super.fail()\r\n\r\n        this._actualTask += 1;\r\n        if (this._actualTask < this.children.length) {\r\n            this._run(this._blackboard);\r\n        }\r\n        else {\r\n            this._control.fail();\r\n        }\r\n    }\r\n\r\n    protected _run(blackboard?: any) {\r\n        if (this._nodeRunning) {\r\n            this._nodeRunning.run(this._blackboard);\r\n        }\r\n        else {\r\n            super._run();\r\n        }\r\n    }\r\n}\r\n"]}