{"version":3,"sources":["file:///Volumes/%E5%9B%BA%E6%80%81/project/extensions/oops-plugin-framework/assets/core/utils/LayerUtil.ts"],"names":["LayerItem","LayerUtil","value","_value","name","_name","mask","constructor","setNodeLayer","item","node","layer","children","forEach","n","MAP","AVATAR","IGNORE_RAYCAST","GIZMOS","EDITOR","UI_3D","SCENE_GIZMO","UI_2D","PROFILTER","DEFAULT"],"mappings":";;;kEASaA,S,EAwBAC,S;;;;;;;;;;;;;;;;;;AAjCb;AACA;AACA;AACA;AACA;AACA;;AAGA;;;2BACaD,S,GAAN,MAAMA,SAAN,CAAgB;AAEV,YAALE,KAAK,GAAW;AAChB,iBAAO,KAAKC,MAAZ;AACH;;AAGO,YAAJC,IAAI,GAAW;AACf,iBAAO,KAAKC,KAAZ;AACH;;AAEO,YAAJC,IAAI,GAAW;AACf,iBAAO,KAAK,KAAKH,MAAjB;AACH;;AAEDI,QAAAA,WAAW,CAACL,KAAD,EAAgBE,IAAhB,EAA8B;AAAA,eAdjCD,MAciC;AAAA,eATjCE,KASiC;AACrC,eAAKF,MAAL,GAAcD,KAAd;AACA,eAAKG,KAAL,GAAaD,IAAb;AACH;;AAlBkB,O;AAqBvB;AACA;AACA;;;2BACaH,S,GAAN,MAAMA,SAAN,CAAgB;AAoBnB;AACJ;AACA;AACA;AACA;AACuB,eAAZO,YAAY,CAACC,IAAD,EAAkBC,IAAlB,EAAoC;AACnDA,UAAAA,IAAI,CAACC,KAAL,GAAaF,IAAI,CAACH,IAAlB;AACAI,UAAAA,IAAI,CAACE,QAAL,CAAcC,OAAd,CAAsBC,CAAC,IAAI;AACvBA,YAAAA,CAAC,CAACH,KAAF,GAAUF,IAAI,CAACH,IAAf;AACAL,YAAAA,SAAS,CAACO,YAAV,CAAuBC,IAAvB,EAA6BK,CAA7B;AACH,WAHD;AAIH;;AA/BkB,O;;AACnB;AADSb,MAAAA,S,CAEFc,G,GAAM,IAAIf,SAAJ,CAAc,CAAd,EAAiB,KAAjB,C;;AACb;AAHSC,MAAAA,S,CAIFe,M,GAAS,IAAIhB,SAAJ,CAAc,CAAd,EAAiB,QAAjB,C;AAJPC,MAAAA,S,CAMFgB,c,GAAiB,IAAIjB,SAAJ,CAAc,EAAd,EAAkB,gBAAlB,C;AANfC,MAAAA,S,CAOFiB,M,GAAS,IAAIlB,SAAJ,CAAc,EAAd,EAAkB,QAAlB,C;;AAChB;AARSC,MAAAA,S,CASFkB,M,GAAS,IAAInB,SAAJ,CAAc,EAAd,EAAkB,QAAlB,C;;AAChB;AAVSC,MAAAA,S,CAWFmB,K,GAAQ,IAAIpB,SAAJ,CAAc,EAAd,EAAkB,OAAlB,C;AAXNC,MAAAA,S,CAYFoB,W,GAAc,IAAIrB,SAAJ,CAAc,EAAd,EAAkB,aAAlB,C;;AACrB;AAbSC,MAAAA,S,CAcFqB,K,GAAQ,IAAItB,SAAJ,CAAc,EAAd,EAAkB,OAAlB,C;;AACf;AAfSC,MAAAA,S,CAgBFsB,S,GAAY,IAAIvB,SAAJ,CAAc,EAAd,EAAkB,WAAlB,C;;AACnB;AAjBSC,MAAAA,S,CAkBFuB,O,GAAU,IAAIxB,SAAJ,CAAc,EAAd,EAAkB,SAAlB,C","sourcesContent":["/*\r\n * @Author: dgflash\r\n * @Date: 2022-09-01 18:00:28\r\n * @LastEditors: dgflash\r\n * @LastEditTime: 2022-09-02 12:05:38\r\n */\r\nimport { Node } from \"cc\";\r\n\r\n/** 游戏摄像机层数据 */\r\nexport class LayerItem {\r\n    private _value: number;\r\n    get value(): number {\r\n        return this._value;\r\n    }\r\n\r\n    private _name!: string;\r\n    get name(): string {\r\n        return this._name;\r\n    }\r\n\r\n    get mask(): number {\r\n        return 1 << this._value;\r\n    }\r\n\r\n    constructor(value: number, name: string) {\r\n        this._value = value;\r\n        this._name = name;\r\n    }\r\n}\r\n\r\n/***\r\n * 游戏摄像机层管理工具\r\n */\r\nexport class LayerUtil {\r\n    /** 地图对象层 */\r\n    static MAP = new LayerItem(0, 'MAP');\r\n    /** 替身对象层 */\r\n    static AVATAR = new LayerItem(1, 'AVATAR');\r\n\r\n    static IGNORE_RAYCAST = new LayerItem(20, 'IGNORE_RAYCAST');\r\n    static GIZMOS = new LayerItem(21, 'GIZMOS');\r\n    /** 编辑器对象层 */\r\n    static EDITOR = new LayerItem(22, 'EDITOR');\r\n    /** 三维对象层 */\r\n    static UI_3D = new LayerItem(23, 'UI_3D');\r\n    static SCENE_GIZMO = new LayerItem(24, 'SCENE_GIZMO');\r\n    /** 二维对象层 */\r\n    static UI_2D = new LayerItem(25, 'UI_2D');\r\n    /** 引擎分析工具层 */\r\n    static PROFILTER = new LayerItem(28, 'PROFILTER');\r\n    /** 默认对象层 */\r\n    static DEFAULT = new LayerItem(30, 'DEFAULT');\r\n\r\n    /**\r\n     * 设置节点层\r\n     * @param item 层数据\r\n     * @param node 节点\r\n     */\r\n    static setNodeLayer(item: LayerItem, node: Node): void {\r\n        node.layer = item.mask;\r\n        node.children.forEach(n => {\r\n            n.layer = item.mask;\r\n            LayerUtil.setNodeLayer(item, n);\r\n        });\r\n    }\r\n}\r\n\r\n"]}