{"version":3,"sources":["file:///Volumes/%E5%9B%BA%E6%80%81/ccProject/assets/bundle/battle/prefabs/Sprite2d.ts"],"names":["_decorator","Color","Sprite","cObject","Trigger","ccclass","property","Sprite2d","sprite","isHit","start","node","getComponent","setColor","color","update","dt","GREEN","WHITE","onTrigger","b","trigger","exit"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAASA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,K,OAAAA,K;AAAOC,MAAAA,M,OAAAA,M;;AAEnBC,MAAAA,O,iBAAAA,O;AAASC,MAAAA,O,iBAAAA,O;;;;;;;;;OACZ;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBN,U;;0BAGjBO,Q,WADZF,OAAO,CAAC,UAAD,C,gBAAR,MACaE,QADb;AAAA;AAAA,8BACsC;AAAA;AAAA;AAAA,eAGlCC,MAHkC,GAGjB,IAHiB;AAAA,eAIlCC,KAJkC,GAIjB,KAJiB;AAAA;;AAMlCC,QAAAA,KAAK,GAAS;AACV,eAAKF,MAAL,GAAc,KAAKG,IAAL,CAAUC,YAAV,CAAuBV,MAAvB,CAAd;AACH;;AAEDW,QAAAA,QAAQ,CAACC,KAAD,EAAe;AACnB,cAAI,KAAKN,MAAT,EACI,KAAKA,MAAL,CAAYM,KAAZ,GAAoBA,KAApB;AACP;;AAESC,QAAAA,MAAM,CAACC,EAAD,EAAmB;AAC/B,eAAKH,QAAL,CAAc,KAAKJ,KAAL,GAAaR,KAAK,CAACgB,KAAnB,GAA2BhB,KAAK,CAACiB,KAA/C;AACA,eAAKT,KAAL,GAAa,KAAb;AACH,SAlBiC,CAoBlC;AACA;AACA;AACA;AACA;AACA;;;AAEAU,QAAAA,SAAS,CAACC,CAAD,EAAWC,OAAX,EAAmC;AAExC,cAAIZ,KAAK,GAAGY,OAAO,IAAI;AAAA;AAAA,kCAAQC,IAA/B;;AACA,cAAIb,KAAK,IAAI,CAAC,KAAKA,KAAnB,EAA0B;AACtB,iBAAKA,KAAL,GAAaA,KAAb;AACH;AAEJ;;AAlCiC,O","sourcesContent":["import { _decorator, Color, Sprite } from 'cc';\nimport { cBody } from '../collision/Body';\nimport { cObject, Trigger } from '../collision/Object';\nconst { ccclass, property } = _decorator;\n\n@ccclass('Sprite2d')\nexport class Sprite2d extends cObject {\n\n\n    sprite: Sprite = null;\n    isHit: boolean = false;\n\n    start(): void {\n        this.sprite = this.node.getComponent(Sprite);\n    }\n\n    setColor(color: Color) {\n        if (this.sprite)\n            this.sprite.color = color;\n    }\n\n    protected update(dt: number): void {\n        this.setColor(this.isHit ? Color.GREEN : Color.WHITE);\n        this.isHit = false;\n    }\n\n    // remove(): void {\n    //     super.remove();\n    //     //如需要改善性能，自行回收到内存池\n    //     this.node.removeFromParent();\n    //     this.node.destroy();\n    // }\n\n    onTrigger(b: cBody, trigger: Trigger): void {\n\n        let isHit = trigger != Trigger.exit;\n        if (isHit && !this.isHit) {\n            this.isHit = isHit;\n        }\n\n    }\n}\n\n"]}