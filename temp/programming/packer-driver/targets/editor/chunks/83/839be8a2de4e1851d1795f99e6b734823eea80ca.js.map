{"version":3,"sources":["file:///Volumes/SSD/ccProject/extensions/oops-plugin-framework/assets/libs/collection/Collection.ts"],"names":["Collection","Map","_array","array","set","key","value","has","old","get","index","indexOf","push","delete","splice","clear","length"],"mappings":";;;iBAQaA,U;;;;;;;;;;;;;AARb;AACA;AACA;AACA;AACA;AACA;;AAEA;4BACaA,U,GAAN,MAAMA,UAAN,SAA+BC,GAA/B,CAAwC;AAAA;AAAA;AAAA,eACnCC,MADmC,GACrB,EADqB;AAAA;;AAG3C;AACS,YAALC,KAAK,GAAG;AACR,iBAAO,KAAKD,MAAZ;AACH;AAED;AACJ;AACA;AACA;AACA;;;AACIE,QAAAA,GAAG,CAACC,GAAD,EAASC,KAAT,EAAmB;AAClB,cAAI,KAAKC,GAAL,CAASF,GAAT,CAAJ,EAAmB;AACf,gBAAIG,GAAG,GAAG,KAAKC,GAAL,CAASJ,GAAT,CAAV;;AACA,gBAAIK,KAAK,GAAG,KAAKR,MAAL,CAAYS,OAAZ,CAAoBH,GAApB,CAAZ;;AACA,iBAAKN,MAAL,CAAYQ,KAAZ,IAAqBJ,KAArB;AACH,WAJD,MAKK;AACD,iBAAKJ,MAAL,CAAYU,IAAZ,CAAiBN,KAAjB;AACH;;AAED,iBAAO,MAAMF,GAAN,CAAUC,GAAV,EAAeC,KAAf,CAAP;AACH;AAED;AACJ;AACA;AACA;;;AACIO,QAAAA,MAAM,CAACR,GAAD,EAAkB;AACpB,cAAIC,KAAK,GAAG,KAAKG,GAAL,CAASJ,GAAT,CAAZ;;AACA,cAAIC,KAAJ,EAAW;AACP,gBAAII,KAAK,GAAG,KAAKR,MAAL,CAAYS,OAAZ,CAAoBL,KAApB,CAAZ;;AACA,gBAAII,KAAK,GAAG,CAAC,CAAb,EAAgB,KAAKR,MAAL,CAAYY,MAAZ,CAAmBJ,KAAnB,EAA0B,CAA1B;AAChB,mBAAO,MAAMG,MAAN,CAAaR,GAAb,CAAP;AACH;;AACD,iBAAO,KAAP;AACH;;AAEDU,QAAAA,KAAK,GAAS;AACV,eAAKb,MAAL,CAAYY,MAAZ,CAAmB,CAAnB,EAAsB,KAAKZ,MAAL,CAAYc,MAAlC;;AACA,gBAAMD,KAAN;AACH;;AA3C0C,O","sourcesContent":["/*\r\n * @Author: dgflash\r\n * @Date: 2022-07-22 15:54:51\r\n * @LastEditors: dgflash\r\n * @LastEditTime: 2022-09-22 14:47:59\r\n */\r\n\r\n/** 支持Map与Array功能的集合对象 */\r\nexport class Collection<K, V> extends Map<K, V>{\r\n    private _array: V[] = [];\r\n\r\n    /** 获取数组对象 */\r\n    get array() {\r\n        return this._array;\r\n    }\r\n\r\n    /**\r\n     * 设置值\r\n     * @param key       关键字\r\n     * @param value     数据值\r\n     */\r\n    set(key: K, value: V) {\r\n        if (this.has(key)) {\r\n            var old = this.get(key)!;\r\n            var index = this._array.indexOf(old);\r\n            this._array[index] = value;\r\n        }\r\n        else {\r\n            this._array.push(value);\r\n        }\r\n\r\n        return super.set(key, value);\r\n    }\r\n\r\n    /**\r\n     * 删除值\r\n     * @param key       关键字\r\n     */\r\n    delete(key: K): boolean {\r\n        var value = this.get(key);\r\n        if (value) {\r\n            var index = this._array.indexOf(value);\r\n            if (index > -1) this._array.splice(index, 1);\r\n            return super.delete(key);\r\n        }\r\n        return false;\r\n    }\r\n\r\n    clear(): void {\r\n        this._array.splice(0, this._array.length);\r\n        super.clear();\r\n    }\r\n}"]}