{"version":3,"sources":["file:///Volumes/SSD/ccProject/extensions/oops-plugin-framework/assets/module/common/CCVMParentComp.ts"],"names":["_decorator","VMParent","ccclass","property","CCVMParentComp","canRecycle","ent","tid","compName"],"mappings":";;;;;;;;;;;;;;;;;;;;AAOSA,MAAAA,U,OAAAA,U;;AAEFC,MAAAA,Q;;;;;;AATP;AACA;AACA;AACA;AACA;AACA;;;;;OAMM;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBH,U;AAE9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;gCAEsBI,c,WADrBF,OAAO,CAAC,gBAAD,C,2BAAR,MACsBE,cADtB;AAAA;AAAA,gCAC2E;AAAA;AAAA;AAAA,eAIvEC,UAJuE;AAAA,eAKvEC,GALuE;AAAA;;AAAA,O,UAChEC,G,GAAc,CAAC,C,UACfC,Q","sourcesContent":["/*\r\n * @Author: dgflash\r\n * @Date: 2021-11-11 19:05:32\r\n * @LastEditors: dgflash\r\n * @LastEditTime: 2022-09-06 17:22:05\r\n */\r\n\r\nimport { _decorator } from 'cc';\r\nimport { ecs } from '../../libs/ecs/ECS';\r\nimport VMParent from '../../libs/model-view/VMParent';\r\n\r\nconst { ccclass, property } = _decorator;\r\n\r\n/** \r\n * 支持 MVVM 功能的游戏显示对象组件\r\n * \r\n * 使用方法：\r\n * 1. 对象拥有 cc.Component 组件功能与 ecs.Comp 组件功能\r\n * 2. 对象自带全局事件监听、释放、发送全局消息功能\r\n * 3. 对象管理的所有节点摊平，直接通过节点名获取cc.Node对象（节点名不能有重名）\r\n * 4. 对象支持 VMParent 所有功能\r\n * \r\n * 应用场景\r\n * 1. 网络游戏，优先有数据对象，然后创建视图对象，当释放视图组件时，部分场景不希望释放数据对象\r\n * \r\n * @example\r\n@ccclass('LoadingViewComp')\r\n@ecs.register('LoadingView', false)\r\nexport class LoadingViewComp extends CCVMParentComp {\r\n    // VM 组件绑定数据\r\n    data: any = {\r\n        // 加载资源当前进度\r\n        finished: 0,\r\n        // 加载资源最大进度\r\n        total: 0,\r\n        // 加载资源进度比例值\r\n        progress: \"0\",\r\n        // 加载流程中提示文本\r\n        prompt: \"\"\r\n    };\r\n\r\n    private progress: number = 0;\r\n\r\n    reset(): void {\r\n      \r\n    }\r\n}\r\n */\r\n@ccclass('CCVMParentComp')\r\nexport abstract class CCVMParentComp extends VMParent implements ecs.IComp {\r\n    static tid: number = -1;\r\n    static compName: string;\r\n\r\n    canRecycle!: boolean;\r\n    ent!: ecs.Entity;\r\n\r\n    abstract reset(): void;\r\n}"]}