{"version":3,"sources":["file:///Volumes/%E5%9B%BA%E6%80%81/ccProject/extensions/oops-plugin-framework/assets/core/gui/prompt/Notify.ts"],"names":["Animation","Component","Label","_decorator","LanguageLabel","ccclass","property","Notify","onLoad","animation","on","EventType","FINISHED","onFinished","node","destroy","toast","msg","useI18n","label","lab_content","getComponent","enabled","dataID","string"],"mappings":";;;;;;;;;;;;;;;;;;;;;;AAMSA,MAAAA,S,OAAAA,S;AAAWC,MAAAA,S,OAAAA,S;AAAWC,MAAAA,K,OAAAA,K;AAAOC,MAAAA,U,OAAAA,U;;AAC7BC,MAAAA,a,iBAAAA,a;;;;;;AAPT;AACA;AACA;AACA;AACA;AACA;;;;;OAIM;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBH,U;AAE9B;;wBAEaI,M,WADZF,OAAO,CAAC,QAAD,C,UAEHC,QAAQ,CAACJ,KAAD,C,UAGRI,QAAQ,CAACN,SAAD,C,2BALb,MACaO,MADb,SAC4BN,SAD5B,CACsC;AAAA;AAAA;;AAAA;;AAAA;AAAA;;AAOlCO,QAAAA,MAAM,GAAG;AACL,cAAI,KAAKC,SAAT,EACI,KAAKA,SAAL,CAAeC,EAAf,CAAkBV,SAAS,CAACW,SAAV,CAAoBC,QAAtC,EAAgD,KAAKC,UAArD,EAAiE,IAAjE;AACP;;AAEOA,QAAAA,UAAU,GAAG;AACjB,eAAKC,IAAL,CAAUC,OAAV;AACH;AAED;AACJ;AACA;AACA;AACA;;;AACIC,QAAAA,KAAK,CAACC,GAAD,EAAcC,OAAd,EAAgC;AACjC,cAAIC,KAAK,GAAG,KAAKC,WAAL,CAAiBC,YAAjB;AAAA;AAAA,6CAAZ;;AACA,cAAIH,OAAJ,EAAa;AACTC,YAAAA,KAAK,CAACG,OAAN,GAAgB,IAAhB;AACAH,YAAAA,KAAK,CAACI,MAAN,GAAeN,GAAf;AACH,WAHD,MAIK;AACDE,YAAAA,KAAK,CAACG,OAAN,GAAgB,KAAhB;AACA,iBAAKF,WAAL,CAAiBI,MAAjB,GAA0BP,GAA1B;AACH;AACJ;;AA/BiC,O;;;;;iBAEL,I;;;;;;;iBAGE,I","sourcesContent":["/*\r\n * @Author: dgflash\r\n * @Date: 2022-04-14 17:08:01\r\n * @LastEditors: dgflash\r\n * @LastEditTime: 2022-09-02 14:07:13\r\n */\r\nimport { Animation, Component, Label, _decorator } from \"cc\";\r\nimport { LanguageLabel } from \"../../../libs/gui/language/LanguageLabel\";\r\n\r\nconst { ccclass, property } = _decorator;\r\n\r\n/** 滚动消息提示组件  */\r\n@ccclass('Notify')\r\nexport class Notify extends Component {\r\n    @property(Label)\r\n    private lab_content: Label = null!;\r\n\r\n    @property(Animation)\r\n    private animation: Animation = null!;\r\n\r\n    onLoad() {\r\n        if (this.animation)\r\n            this.animation.on(Animation.EventType.FINISHED, this.onFinished, this);\r\n    }\r\n\r\n    private onFinished() {\r\n        this.node.destroy();\r\n    }\r\n\r\n    /**\r\n     * 显示提示\r\n     * @param msg       文本\r\n     * @param useI18n   设置为 true 时，使用多语言功能 msg 参数为多语言 key\r\n     */\r\n    toast(msg: string, useI18n: boolean) {\r\n        let label = this.lab_content.getComponent(LanguageLabel)!;\r\n        if (useI18n) {\r\n            label.enabled = true;\r\n            label.dataID = msg;\r\n        }\r\n        else {\r\n            label.enabled = false;\r\n            this.lab_content.string = msg;\r\n        }\r\n    }\r\n}"]}