{"version":3,"sources":["file:///Volumes/SSD%201/ccProject/assets/script/Main.ts"],"names":["DynamicAtlasManager","_decorator","macro","profiler","DEBUG","JSB","oops","Root","ecs","Initialize","UIConfigData","smc","ccclass","property","CLEANUP_IMAGE_CACHE","instance","enabled","maxFrameSize","Main","start","showStats","run","initialize","getEntity","gui","toast","initGui","init","initEcsSystem"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAMSA,MAAAA,mB,OAAAA,mB;AAAqBC,MAAAA,U,OAAAA,U;AAAYC,MAAAA,K,OAAAA,K;AAAOC,MAAAA,Q,OAAAA,Q;;AACxCC,MAAAA,K,UAAAA,K;AAAOC,MAAAA,G,UAAAA,G;;AACPC,MAAAA,I,iBAAAA,I;;AACAC,MAAAA,I,iBAAAA,I;;AACAC,MAAAA,G,iBAAAA,G;;AACAC,MAAAA,U,iBAAAA,U;;AACAC,MAAAA,Y,iBAAAA,Y;;AACAC,MAAAA,G,iBAAAA,G;;;;;;AAbT;AACA;AACA;AACA;AACA;AACA;;;;;OAUM;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBZ,U;AAE9BC,MAAAA,KAAK,CAACY,mBAAN,GAA4B,KAA5B;AACAd,MAAAA,mBAAmB,CAACe,QAApB,CAA6BC,OAA7B,GAAuC,IAAvC;AACAhB,MAAAA,mBAAmB,CAACe,QAApB,CAA6BE,YAA7B,GAA4C,GAA5C;;sBAGaC,I,WADZN,OAAO,CAAC,MAAD,C,gBAAR,MACaM,IADb;AAAA;AAAA,wBAC+B;AAC3BC,QAAAA,KAAK,GAAG;AACJ,cAAIf,KAAJ,EAAWD,QAAQ,CAACiB,SAAT;AACd;;AAESC,QAAAA,GAAG,GAAG;AACZ;AAAA;AAAA,0BAAIC,UAAJ,GAAiB;AAAA;AAAA,0BAAIC,SAAJ;AAAA;AAAA,uCAAjB;;AACA,cAAIlB,GAAJ,EAAS;AACL;AAAA;AAAA,8BAAKmB,GAAL,CAASC,KAAT,CAAe,YAAf;AACH;AACJ;;AAESC,QAAAA,OAAO,GAAG;AAChB;AAAA;AAAA,4BAAKF,GAAL,CAASG,IAAT;AAAA;AAAA;AACH;;AAE4B,cAAbC,aAAa,GAAG,CAC5B;AACA;AACA;AACA;AACH;;AArB0B,O","sourcesContent":["/*\n * @Author: dgflash\n * @Date: 2021-07-03 16:13:17\n * @LastEditors: dgflash\n * @LastEditTime: 2023-01-19 15:28:28\n */\nimport { DynamicAtlasManager, _decorator, macro, profiler } from 'cc';\nimport { DEBUG, JSB } from 'cc/env';\nimport { oops } from '../../extensions/oops-plugin-framework/assets/core/Oops';\nimport { Root } from '../../extensions/oops-plugin-framework/assets/core/Root';\nimport { ecs } from '../../extensions/oops-plugin-framework/assets/libs/ecs/ECS';\nimport { Initialize } from './game/initialize/Initialize';\nimport { UIConfigData } from './game/common/config/GameUIConfig';\nimport { smc } from './game/common/ecs/SingletonModuleComp';\n\nconst { ccclass, property } = _decorator;\n\nmacro.CLEANUP_IMAGE_CACHE = false;\nDynamicAtlasManager.instance.enabled = true;\nDynamicAtlasManager.instance.maxFrameSize = 512;\n\n@ccclass('Main')\nexport class Main extends Root {\n    start() {\n        if (DEBUG) profiler.showStats();\n    }\n\n    protected run() {\n        smc.initialize = ecs.getEntity<Initialize>(Initialize);\n        if (JSB) {\n            oops.gui.toast(\"热更新后新程序的提示\");\n        }\n    }\n\n    protected initGui() {\n        oops.gui.init(UIConfigData);\n    }\n\n    protected async initEcsSystem() {\n        // oops.ecs.add(new EcsPositionSystem())\n        // oops.ecs.add(new EcsAccountSystem());\n        // oops.ecs.add(new EcsRoleSystem());\n        // oops.ecs.add(new EcsInitializeSystem());\n    }\n}"]}